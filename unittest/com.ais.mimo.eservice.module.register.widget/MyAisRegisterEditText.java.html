<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MyAisRegisterEditText.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">app</a> &gt; <a href="index.source.html" class="el_package">com.ais.mimo.eservice.module.register.widget</a> &gt; <span class="el_source">MyAisRegisterEditText.java</span></div><h1>MyAisRegisterEditText.java</h1><pre class="source lang-java linenums">package com.ais.mimo.eservice.module.register.widget;

import android.annotation.TargetApi;
import android.content.Context;
import android.content.res.TypedArray;
import android.graphics.Typeface;
import android.os.Build;
import android.os.Parcel;
import android.os.Parcelable;
import android.text.InputFilter;
import android.util.AttributeSet;
import android.view.View;
import android.widget.ImageView;
import android.widget.TextView;

import com.nextzy.myais.common.widget.AISEditText;
import com.nextzy.myais.common.widget.NextzyViewGroup;
import com.nextzy.myais.myais.R;


public class MyAisRegisterEditText extends NextzyViewGroup {

    public static final int DEFAULT_LEN = 100;
    private AISEditText edt;
    private TextView tvHeader;
    private TextView tvRequireSymbol;
    private ImageView imgTerm;

    private String hint;
    private String header;
    private String format;
    private boolean require;
    private boolean isShowTerm;
    private int maxLen;

    public MyAisRegisterEditText(Context context) {
<span class="nc" id="L37">        super(context);</span>
<span class="nc" id="L38">    }</span>

    public MyAisRegisterEditText(Context context, AttributeSet attrs) {
<span class="nc" id="L41">        super(context, attrs);</span>
<span class="nc" id="L42">    }</span>

    public MyAisRegisterEditText(Context context, AttributeSet attrs, int defStyleAttr) {
<span class="nc" id="L45">        super(context, attrs, defStyleAttr);</span>
<span class="nc" id="L46">    }</span>

    @TargetApi(Build.VERSION_CODES.LOLLIPOP)
    public MyAisRegisterEditText(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {
<span class="nc" id="L50">        super(context, attrs, defStyleAttr, defStyleRes);</span>
<span class="nc" id="L51">    }</span>

    @Override
    protected int getLayoutRes() {
<span class="nc" id="L55">        return R.layout.my_ais_register_view_edit_text;</span>
    }

    @Override
    protected void bindView() {
<span class="nc" id="L60">        edt = (AISEditText) findViewById(R.id.my_ais_register_edt);</span>
<span class="nc" id="L61">        tvHeader = (TextView) findViewById(R.id.my_ais_register_tv_header);</span>
<span class="nc" id="L62">        tvRequireSymbol = (TextView) findViewById(R.id.my_ais_register_tv_require_symbol);</span>
<span class="nc" id="L63">        imgTerm = (ImageView) findViewById(R.id.my_ais_register_term);</span>
<span class="nc" id="L64">        tvRequireSymbol.setVisibility(View.GONE);</span>
<span class="nc" id="L65">    }</span>

    @Override
    protected void setupView() {
<span class="nc bnc" id="L69" title="All 2 branches missed.">        if (hint != null) edt.setHint(hint);</span>
<span class="nc bnc" id="L70" title="All 2 branches missed.">        if (format != null) edt.setDashFormat(format);</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">        if (header != null) tvHeader.setText(header);</span>
<span class="nc bnc" id="L72" title="All 2 branches missed.">        if (require) showRequire();</span>
<span class="nc bnc" id="L73" title="All 2 branches missed.">        if (isShowTerm) imgTerm.setVisibility(View.VISIBLE);</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">        if (maxLen != 0) setMaxLengthEdt(maxLen);</span>
<span class="nc" id="L75">    }</span>

    @Override
    protected void setupStyleables(AttributeSet attrs, int defStyleAttr, int defStyleRes) {
<span class="nc" id="L79">        TypedArray a = getContext().obtainStyledAttributes(</span>
                attrs,
                R.styleable.RegisterEditText,
                defStyleAttr,
                defStyleRes);
        try {
<span class="nc" id="L85">            hint = a.getString(R.styleable.RegisterEditText_text_hint);</span>
<span class="nc" id="L86">            header = a.getString(R.styleable.RegisterEditText_text_header);</span>
<span class="nc" id="L87">            format = a.getString(R.styleable.RegisterEditText_dash_format);</span>
<span class="nc" id="L88">            require = a.getBoolean(R.styleable.RegisterEditText_show_require, false);</span>
<span class="nc" id="L89">            isShowTerm = a.getBoolean(R.styleable.RegisterEditText_show_term, false);</span>
<span class="nc" id="L90">            maxLen = a.getInt(R.styleable.RegisterEditText_text_max_length, DEFAULT_LEN);</span>
        } finally {
<span class="nc" id="L92">            a.recycle();</span>
<span class="nc" id="L93">        }</span>
<span class="nc" id="L94">    }</span>


    @Override
    protected Parcelable onSaveInstanceState() {
<span class="nc" id="L99">        Parcelable superState = super.onSaveInstanceState();</span>
<span class="nc" id="L100">        SavedState ss = (SavedState) onSaveChildInstanceState(new SavedState(superState));</span>
<span class="nc" id="L101">        ss.edtTextString = edt.getText().toString();</span>
<span class="nc" id="L102">        return ss;</span>
    }

    @Override
    protected void onRestoreInstanceState(Parcelable state) {
<span class="nc bnc" id="L107" title="All 2 branches missed.">        if (!(state instanceof SavedState)) {</span>
<span class="nc" id="L108">            super.onRestoreInstanceState(state);</span>
<span class="nc" id="L109">            return;</span>
        }
<span class="nc" id="L111">        SavedState ss = (SavedState) state;</span>
<span class="nc" id="L112">        super.onRestoreInstanceState(ss.getSuperState());</span>
<span class="nc" id="L113">        edt.setText(ss.edtTextString);</span>
<span class="nc" id="L114">    }</span>

    public void setHintText(String hint) {
<span class="nc" id="L117">        edt.setHint(hint);</span>
<span class="nc" id="L118">    }</span>

    public void setHeaderText(String text) {
<span class="nc" id="L121">        tvHeader.setText(text);</span>
<span class="nc" id="L122">    }</span>

    public void setEditable(boolean isEdit) {
<span class="nc bnc" id="L125" title="All 2 branches missed.">        if (isEdit) {</span>
<span class="nc" id="L126">            edt.setEnabled(true);</span>
<span class="nc" id="L127">            edt.setFocusable(true);</span>
<span class="nc" id="L128">            edt.setFocusableInTouchMode(true);</span>
<span class="nc" id="L129">            edt.setClickable(true);</span>
        } else {
<span class="nc" id="L131">            edt.setEnabled(false);</span>
<span class="nc" id="L132">            edt.setFocusable(false);</span>
<span class="nc" id="L133">            edt.setFocusableInTouchMode(false); // user touches widget on phone with touch screen</span>
<span class="nc" id="L134">            edt.setClickable(false); // user navigates with wheel and selects widget</span>
        }
<span class="nc" id="L136">    }</span>

    public void showRequire() {
<span class="nc" id="L139">        tvRequireSymbol.setVisibility(View.VISIBLE);</span>
<span class="nc" id="L140">    }</span>

    public String getStringFromEditText() {
<span class="nc" id="L143">        return edt.getTextNoDash();</span>
    }

    public void setInputType(int type) {
<span class="nc" id="L147">        Typeface tf = edt.getTypeface();</span>
<span class="nc" id="L148">        edt.setInputType(type);</span>
<span class="nc" id="L149">        edt.setTypeface(tf);</span>
<span class="nc" id="L150">    }</span>

    public void setText(String text) {
<span class="nc" id="L153">        edt.setText(text);</span>
<span class="nc" id="L154">    }</span>

    public void setMaxLengthEdt(int length) {
<span class="nc" id="L157">        InputFilter[] fArray = new InputFilter[1];</span>
<span class="nc" id="L158">        fArray[0] = new InputFilter.LengthFilter(length);</span>
<span class="nc" id="L159">        edt.setFilters(fArray);</span>
<span class="nc" id="L160">    }</span>

    public String getOtp() {
<span class="nc" id="L163">        return edt.getText().toString();</span>
    }

    public void showDefault() {
<span class="nc" id="L167">        edt.setBackgroundResource(R.drawable.my_ais_library_selector_edit_text_green);</span>
<span class="nc" id="L168">    }</span>

    public void showError() {
<span class="nc" id="L171">        edt.setBackgroundResource(R.drawable.my_ais_library_shape_edit_text_white_red_border);</span>
<span class="nc" id="L172">    }</span>

    public void setOnClickTermListener(OnClickListener listener) {
<span class="nc" id="L175">        imgTerm.setOnClickListener(listener);</span>
<span class="nc" id="L176">    }</span>

    public void setOnEditorActionListener(TextView.OnEditorActionListener onEditorActionListener) {
<span class="nc" id="L179">        edt.setOnEditorActionListener(onEditorActionListener);</span>
<span class="nc" id="L180">    }</span>

    private static class SavedState extends ChildSavedState {
        String edtTextString;

        SavedState(Parcelable superState) {
<span class="nc" id="L186">            super(superState);</span>
<span class="nc" id="L187">        }</span>

        private SavedState(Parcel in, ClassLoader classLoader) {
<span class="nc" id="L190">            super(in, classLoader);</span>
<span class="nc" id="L191">            this.edtTextString = in.readString();</span>
<span class="nc" id="L192">        }</span>

        @Override
        public void writeToParcel(Parcel out, int flags) {
<span class="nc" id="L196">            super.writeToParcel(out, flags);</span>
<span class="nc" id="L197">            out.writeString(this.edtTextString);</span>
<span class="nc" id="L198">        }</span>

<span class="nc" id="L200">        public static final ClassLoaderCreator&lt;SavedState&gt; CREATOR = new ClassLoaderCreator&lt;SavedState&gt;() {</span>
            @Override
            public SavedState createFromParcel(Parcel source, ClassLoader loader) {
<span class="nc" id="L203">                return new SavedState(source, loader);</span>
            }

            public SavedState createFromParcel(Parcel in) {
<span class="nc" id="L207">                return null;</span>
            }


            public SavedState[] newArray(int size) {
<span class="nc" id="L212">                return new SavedState[size];</span>
            }
        };
    }
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>