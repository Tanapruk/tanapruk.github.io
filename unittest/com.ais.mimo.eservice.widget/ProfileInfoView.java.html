<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ProfileInfoView.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">app</a> &gt; <a href="index.source.html" class="el_package">com.ais.mimo.eservice.widget</a> &gt; <span class="el_source">ProfileInfoView.java</span></div><h1>ProfileInfoView.java</h1><pre class="source lang-java linenums">package com.ais.mimo.eservice.widget;

import android.content.Context;
import android.content.res.TypedArray;
import android.os.Build;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.annotation.RequiresApi;
import android.util.AttributeSet;
import android.widget.TextView;

import com.nextzy.myais.common.widget.NextzyViewGroup;
import com.nextzy.myais.myais.R;

import static com.nextzy.myais.common.delegate.FormatUtility.SEPARATE;

/**
 * Created by Akexorcist on 11/21/2016 AD.
 */

public class ProfileInfoView extends NextzyViewGroup {
    private TextView tvTitle;
    private TextView tvDetail;

    private String title;
    private String detail;

    public ProfileInfoView(Context context, AttributeSet attrs) {
<span class="nc" id="L29">        super(context, attrs);</span>
<span class="nc" id="L30">    }</span>

    public ProfileInfoView(Context context, AttributeSet attrs, int defStyleAttr) {
<span class="nc" id="L33">        super(context, attrs, defStyleAttr);</span>
<span class="nc" id="L34">    }</span>

    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)
    public ProfileInfoView(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {
<span class="nc" id="L38">        super(context, attrs, defStyleAttr, defStyleRes);</span>
<span class="nc" id="L39">    }</span>

    @Override
    protected int getLayoutRes() {
<span class="nc" id="L43">        return R.layout.my_ais_profile_view_info;</span>
    }

    @Override
    protected void setupStyleables(AttributeSet attrs, int defStyleAttr, int defStyleRes) {
<span class="nc" id="L48">        TypedArray typedArray = getContext().obtainStyledAttributes(attrs, R.styleable.ProfileInfoView);</span>
<span class="nc" id="L49">        title = typedArray.getString(R.styleable.ProfileInfoView_piv_title);</span>
<span class="nc" id="L50">        detail = typedArray.getString(R.styleable.ProfileInfoView_piv_detail);</span>
<span class="nc" id="L51">        typedArray.recycle();</span>
<span class="nc" id="L52">    }</span>

    @Override
    protected void bindView() {
<span class="nc" id="L56">        tvTitle = (TextView) findViewById(R.id.my_ais_profile_tv_title);</span>
<span class="nc" id="L57">        tvDetail = (TextView) findViewById(R.id.my_ais_profile_tv_detail);</span>
<span class="nc" id="L58">    }</span>

    @Override
    protected void setupView() {
<span class="nc" id="L62">        updateView();</span>
<span class="nc" id="L63">    }</span>

    public void setText(String title) {
<span class="nc" id="L66">        this.title = title;</span>
<span class="nc" id="L67">        updateTitle(title);</span>
<span class="nc" id="L68">    }</span>

    public void setDetail(String detail) {
<span class="nc" id="L71">        this.detail = detail;</span>
<span class="nc" id="L72">        updateDetail(detail);</span>
<span class="nc" id="L73">    }</span>

    public String getDetail() {
<span class="nc bnc" id="L76" title="All 2 branches missed.">        if (detail.contains(SEPARATE)) {</span>
<span class="nc" id="L77">            return detail.replaceAll(SEPARATE, &quot;&quot;);</span>
        }
<span class="nc" id="L79">        return detail;</span>
    }

    private void updateTitle(String title) {
<span class="nc" id="L83">        tvTitle.setText(title);</span>
<span class="nc" id="L84">    }</span>

    private void updateDetail(String detail) {
<span class="nc" id="L87">        tvDetail.setText(detail);</span>
<span class="nc" id="L88">    }</span>

    private void updateView() {
<span class="nc" id="L91">        updateTitle(title);</span>
<span class="nc" id="L92">        updateDetail(detail);</span>
<span class="nc" id="L93">    }</span>

    @Override
    protected Parcelable onSaveInstanceState() {
<span class="nc" id="L97">        Parcelable superState = super.onSaveInstanceState();</span>
<span class="nc" id="L98">        SavedState ss = (SavedState) onSaveChildInstanceState(new SavedState(superState));</span>
<span class="nc" id="L99">        ss.title = this.title;</span>
<span class="nc" id="L100">        ss.detail = this.detail;</span>
<span class="nc" id="L101">        return ss;</span>
    }

    @Override
    protected void onRestoreInstanceState(Parcelable state) {
<span class="nc bnc" id="L106" title="All 2 branches missed.">        if (!(state instanceof SavedState)) {</span>
<span class="nc" id="L107">            super.onRestoreInstanceState(state);</span>
<span class="nc" id="L108">            return;</span>
        }
<span class="nc" id="L110">        SavedState ss = (SavedState) state;</span>
<span class="nc" id="L111">        super.onRestoreInstanceState(ss.getSuperState());</span>
<span class="nc" id="L112">        this.title = ss.title;</span>
<span class="nc" id="L113">        this.detail = ss.detail;</span>
<span class="nc" id="L114">        updateView();</span>
<span class="nc" id="L115">    }</span>

    private static class SavedState extends ChildSavedState {
        String title;
        String detail;

        SavedState(Parcelable superState) {
<span class="nc" id="L122">            super(superState);</span>
<span class="nc" id="L123">        }</span>

        private SavedState(Parcel in, ClassLoader classLoader) {
<span class="nc" id="L126">            super(in, classLoader);</span>
<span class="nc" id="L127">            this.title = in.readString();</span>
<span class="nc" id="L128">            this.detail = in.readString();</span>
<span class="nc" id="L129">        }</span>

        @Override
        public void writeToParcel(Parcel out, int flags) {
<span class="nc" id="L133">            super.writeToParcel(out, flags);</span>
<span class="nc" id="L134">            out.writeString(this.title);</span>
<span class="nc" id="L135">            out.writeString(this.detail);</span>
<span class="nc" id="L136">        }</span>

<span class="nc" id="L138">        public static final ClassLoaderCreator&lt;SavedState&gt; CREATOR = new ClassLoaderCreator&lt;SavedState&gt;() {</span>
            @Override
            public SavedState createFromParcel(Parcel source, ClassLoader loader) {
<span class="nc" id="L141">                return new SavedState(source, loader);</span>
            }

            public SavedState createFromParcel(Parcel in) {
<span class="nc" id="L145">                return null;</span>
            }


            public SavedState[] newArray(int size) {
<span class="nc" id="L150">                return new SavedState[size];</span>
            }
        };
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>